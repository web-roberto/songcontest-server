(this.webpackJsonpbandnames=this.webpackJsonpbandnames||[]).push([[0],{31:function(e,t,n){e.exports=n(65)},36:function(e,t,n){},60:function(e,t){},65:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(28),l=n.n(c),o=(n(36),n(3)),u=n(29),m=n.n(u),i=Object(a.createContext)(),s=function(e){var t=e.children,n=function(e){var t=Object(a.useMemo)((function(){return m.a.connect(e)}),[e]),n=Object(a.useState)(!1),r=Object(o.a)(n,2),c=r[0],l=r[1];return Object(a.useEffect)((function(){l(t.connected)}),[t]),Object(a.useEffect)((function(){t.on("connect",(function(){l(!0)}))}),[t]),Object(a.useEffect)((function(){t.on("disconnect",(function(){l(!1)}))}),[t]),{socket:t,online:c}}("http://localhost:8080"),c=n.socket,l=n.online;return r.a.createElement(i.Provider,{value:{socket:c,online:l}},t)},b=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],c=t[1],l=Object(a.useContext)(i).socket;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Add Music Group"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n.trim().length>0&&(l.emit("crear-banda",{nombre:n}),c(""))}},r.a.createElement("input",{className:"form-control",placeholder:"Nuevo nombre de banda",value:n,onChange:function(e){return c(e.target.value)}})))},d=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],l=Object(a.useContext)(i).socket;Object(a.useEffect)((function(){return l.on("current-bands",(function(e){c(e)})),function(){return l.off("current-bands")}}),[l]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("table",{className:"table table-stripped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Votes"),r.a.createElement("th",null,"Delete"))),r.a.createElement("tbody",null,n.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return t=e.id,void l.emit("votar-banda",t);var t}}," ","+1"," ")),r.a.createElement("td",null,r.a.createElement("input",{className:"form-control",value:e.name,onChange:function(t){return function(e,t){var n=e.target.value;c((function(e){return e.map((function(e){return e.id===t&&(e.name=n),e}))}))}(t,e.id)},onBlur:function(){return t=e.id,n=e.name,void l.emit("cambiar-nombre-banda",{id:t,nombre:n});var t,n}})),r.a.createElement("td",null," ",r.a.createElement("h3",null," ",e.votes," ")," "),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return t=e.id,void l.emit("borrar-banda",t);var t}},"Delete")))})))))},f=n(30),E=function(){var e=Object(a.useContext)(i).socket;Object(a.useEffect)((function(){e.on("current-bands",(function(e){t(e)}))}),[e]);var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=document.getElementById("myChart");new f.Chart(t,{type:"horizontalBar",data:{labels:e.map((function(e){return e.name})),datasets:[{label:"# of Votes",data:e.map((function(e){return e.votes})),backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{animation:!1,scales:{xAxes:[{stacked:!0}]}}})};return r.a.createElement("canvas",{id:"myChart"})};var v=function(){var e=Object(a.useContext)(i).online;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"alert"},r.a.createElement("p",null,"Service status:",e?r.a.createElement("span",{className:"text-success"}," Online"):r.a.createElement("span",{className:"text-danger"}," Offline"))),r.a.createElement("h1",null,"Conquest of Music Bands"),r.a.createElement("hr",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(E,null))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-8"},r.a.createElement(d,null)),r.a.createElement("div",{className:"col-4"},r.a.createElement(b,null))))},g=function(){return r.a.createElement(s,null,r.a.createElement(v,null))};l.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.da97b3a1.chunk.js.map